{% comment %}
  Template de modal de formulário reutilizável.
  Ele espera 3 variáveis de contexto da view:
  - hx_post_url: A URL para onde o formulário fará o POST.
  - modal_title: O texto para o <h3>.
  - submit_button_text: O texto para o botão de salvar.
{% endcomment %}

<form 
  method="POST"
  hx-post="{{ hx_post_url }}"
  hx-target="#form-modal-container"
  hx-swap="innerHTML"
>
  {% csrf_token %}

  <div class="modal-body p-4 p-md-5 position-relative">

    <button type="button" class="btn-close position-absolute top-0 end-0 m-3" data-bs-dismiss="modal" aria-label="Close"></button>

    <h3 class="fw-bold mb-4 text-center">
      {{ modal_title }}
    </h3>

    {% comment %} 
      Os campos do formulário (form) e dados de layout (form_layout_dict, etc.)
      são passados pelas views/mixins
    {% endcomment %}
    {% include "partials/_form_fields.html" with form=form form_layout_dict=form_layout_dict default_col_class=default_col_class form_icons=form_icons %}

    <div class="d-grid gap-2 mt-4">
      <button type="submit" class="btn btn-primary btn-lg">
        {{ submit_button_text }}
      </button>
      <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancelar</button>
    </div>

  </div>
</form>
