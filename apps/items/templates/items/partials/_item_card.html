{% comment %} 
  ARQUIVO: items/_item_card.html
  Este template renderiza um único card de item.
{% endcomment %}

<div class="col-md-6 col-lg-4">
    <div class="card h-100 shadow-sm item-card">
        <div class="card-body d-flex flex-column">
            
            {% comment %} Título e Status {% endcomment %}
            <div class="d-flex justify-content-between align-items-start mb-2">
                <h6 class="card-title fw-bold text-dark mb-0">{{ item.name }}</h6>
                
                {% comment %} Badge de status {% endcomment %}
                {% if item.status == 'DONE' %}
                  <span class="badge rounded-pill bg-success-subtle text-success-emphasis">{{ item.get_status_display }}</span>
                {% elif item.status == 'IN_PROGRESS' %}
                  <span class="badge rounded-pill bg-warning-subtle text-warning-emphasis">{{ item.get_status_display }}</span>
                {% else %}
                  <span class="badge rounded-pill bg-info-subtle text-info-emphasis">{{ item.get_status_display }}</span>
                {% endif %}
            </div>

            {% comment %} Descrição {% endcomment %}
            <p class="card-text text-muted small card-description-scroll">
                {{ item.description }}
            </p>

            {% comment %} Fornecedor e Ações {% endcomment %}
            <div class="d-flex justify-content-between align-items-center mt-auto pt-2">
                <p class="text-muted small mb-0"><strong>Fornecedor:</strong> {{ item.supplier.name|default:"N/D" }}</p>
                
                {% comment %} Botão dropdown para mudar o status {% endcomment %}
                {% include "items/partials/_item_card_actions.html" with item=item %}
            </div>
        </div>
    </div>
</div>
