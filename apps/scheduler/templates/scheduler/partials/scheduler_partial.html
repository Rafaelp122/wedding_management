<div class="bg-white p-4 rounded-4 aba-bloco custom-shadow-lg">
  
    <h3 class="fs-4 fw-bold text-dark mb-4">Calendário do Casamento</h3>

    <div id="calendar">
      <div class="text-center p-5">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Carregando calendário...</span>
        </div>
      </div>
    </div>
</div>

{{ wedding.id|default:None|json_script:"wedding-id-data" }} 

<script>
  window.dispatchSchedulerLoaded = () => {
    console.log("LOG partial: scheduler_partial carregado, disparando evento global.");
    document.dispatchEvent(new CustomEvent("scheduler:loaded"));
  };

  if (document.readyState === "complete") {
    window.dispatchSchedulerLoaded();
  } else {
    window.addEventListener("load", window.dispatchSchedulerLoaded, { once: true });
  }
</script>