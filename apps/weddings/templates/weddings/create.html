{% extends 'base-apps.html' %}
{% load static %}

{% block page_title %} Criar Casamento {% endblock page_title %}

{% block page_styles %}
  <link rel="stylesheet" href="{% static 'weddings/css/create.css' %}">
{% endblock page_styles %}

{% block main_class %} wedding-create-page {% endblock %}

{% block content %}
<div class="container py-5">
  <h2 class="fw-bold mb-4">
    {% if wedding %}Editar Casamento{% else %}Novo Casamento{% endif %}
  </h2>

  <form method="POST">
    {% csrf_token %}
    <div class="mb-3">
      <label for="id_groom_name" class="form-label">Nome do Noivo</label>
      {{ form.groom_name }}
    </div>
    <div class="mb-3">
      <label for="id_bride_name" class="form-label">Nome da Noiva</label>
      {{ form.bride_name }}
    </div>
    <div class="mb-3">
      <label for="id_date" class="form-label">Data do Casamento</label>
      {{ form.date }}
    </div>
    <div class="mb-3">
      <label for="id_location" class="form-label">Localização</label>
      {{ form.location }}
    </div>
    <button type="submit" class="btn btn-success">
      {% if wedding %}Atualizar{% else %}Salvar Casamento{% endif %}
    </button>
    <a href="{% url 'weddings:my_weddings' %}" class="btn btn-secondary">Cancelar</a>
  </form>

  {% if wedding %}
  <hr class="my-4">

  <div class="delete-wedding">
    <form method="POST" action="{% url 'weddings:delete_wedding' wedding.id %}" onsubmit="return confirm('Tem certeza que deseja excluir este casamento?')">
      {% csrf_token %}
      <button type="submit" class="btn btn-danger delete-btn">
        <i class="bi bi-trash"></i> Excluir Casamento
      </button>
    </form>
  </div>
  {% endif %}
</div>
{% endblock %}